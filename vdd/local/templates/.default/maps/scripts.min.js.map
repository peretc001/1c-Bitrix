{"version":3,"sources":["jquery.js","common.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"../js/scripts.min.js","sourcesContent":["/*! jQuery & Zepto Lazy v1.7.10 - http://jquery.eisbehr.de/lazy */\n!function(t,e){\"use strict\";function r(r,a,i,u,l){function f(){L=t.devicePixelRatio>1,i=c(i),a.delay>=0&&setTimeout(function(){s(!0)},a.delay),(a.delay<0||a.combined)&&(u.e=v(a.throttle,function(t){\"resize\"===t.type&&(w=B=-1),s(t.all)}),u.a=function(t){t=c(t),i.push.apply(i,t)},u.g=function(){return i=n(i).filter(function(){return!n(this).data(a.loadedName)})},u.f=function(t){for(var e=0;e<t.length;e++){var r=i.filter(function(){return this===t[e]});r.length&&s(!1,r)}},s(),n(a.appendScroll).on(\"scroll.\"+l+\" resize.\"+l,u.e))}function c(t){var i=a.defaultImage,o=a.placeholder,u=a.imageBase,l=a.srcsetAttribute,f=a.loaderAttribute,c=a._f||{};t=n(t).filter(function(){var t=n(this),r=m(this);return!t.data(a.handledName)&&(t.attr(a.attribute)||t.attr(l)||t.attr(f)||c[r]!==e)}).data(\"plugin_\"+a.name,r);for(var s=0,d=t.length;s<d;s++){var A=n(t[s]),g=m(t[s]),h=A.attr(a.imageBaseAttribute)||u;g===N&&h&&A.attr(l)&&A.attr(l,b(A.attr(l),h)),c[g]===e||A.attr(f)||A.attr(f,c[g]),g===N&&i&&!A.attr(E)?A.attr(E,i):g===N||!o||A.css(O)&&\"none\"!==A.css(O)||A.css(O,\"url('\"+o+\"')\")}return t}function s(t,e){if(!i.length)return void(a.autoDestroy&&r.destroy());for(var o=e||i,u=!1,l=a.imageBase||\"\",f=a.srcsetAttribute,c=a.handledName,s=0;s<o.length;s++)if(t||e||A(o[s])){var g=n(o[s]),h=m(o[s]),b=g.attr(a.attribute),v=g.attr(a.imageBaseAttribute)||l,p=g.attr(a.loaderAttribute);g.data(c)||a.visibleOnly&&!g.is(\":visible\")||!((b||g.attr(f))&&(h===N&&(v+b!==g.attr(E)||g.attr(f)!==g.attr(F))||h!==N&&v+b!==g.css(O))||p)||(u=!0,g.data(c,!0),d(g,h,v,p))}u&&(i=n(i).filter(function(){return!n(this).data(c)}))}function d(t,e,r,i){++z;var o=function(){y(\"onError\",t),p(),o=n.noop};y(\"beforeLoad\",t);var u=a.attribute,l=a.srcsetAttribute,f=a.sizesAttribute,c=a.retinaAttribute,s=a.removeAttribute,d=a.loadedName,A=t.attr(c);if(i){var g=function(){s&&t.removeAttr(a.loaderAttribute),t.data(d,!0),y(T,t),setTimeout(p,1),g=n.noop};t.off(I).one(I,o).one(D,g),y(i,t,function(e){e?(t.off(D),g()):(t.off(I),o())})||t.trigger(I)}else{var h=n(new Image);h.one(I,o).one(D,function(){t.hide(),e===N?t.attr(C,h.attr(C)).attr(F,h.attr(F)).attr(E,h.attr(E)):t.css(O,\"url('\"+h.attr(E)+\"')\"),t[a.effect](a.effectTime),s&&(t.removeAttr(u+\" \"+l+\" \"+c+\" \"+a.imageBaseAttribute),f!==C&&t.removeAttr(f)),t.data(d,!0),y(T,t),h.remove(),p()});var m=(L&&A?A:t.attr(u))||\"\";h.attr(C,t.attr(f)).attr(F,t.attr(l)).attr(E,m?r+m:null),h.complete&&h.trigger(D)}}function A(t){var e=t.getBoundingClientRect(),r=a.scrollDirection,n=a.threshold,i=h()+n>e.top&&-n<e.bottom,o=g()+n>e.left&&-n<e.right;return\"vertical\"===r?i:\"horizontal\"===r?o:i&&o}function g(){return w>=0?w:w=n(t).width()}function h(){return B>=0?B:B=n(t).height()}function m(t){return t.tagName.toLowerCase()}function b(t,e){if(e){var r=t.split(\",\");t=\"\";for(var a=0,n=r.length;a<n;a++)t+=e+r[a].trim()+(a!==n-1?\",\":\"\")}return t}function v(t,e){var n,i=0;return function(o,u){function l(){i=+new Date,e.call(r,o)}var f=+new Date-i;n&&clearTimeout(n),f>t||!a.enableThrottle||u?l():n=setTimeout(l,t-f)}}function p(){--z,i.length||z||y(\"onFinishedAll\")}function y(t,e,n){return!!(t=a[t])&&(t.apply(r,[].slice.call(arguments,1)),!0)}var z=0,w=-1,B=-1,L=!1,T=\"afterLoad\",D=\"load\",I=\"error\",N=\"img\",E=\"src\",F=\"srcset\",C=\"sizes\",O=\"background-image\";\"event\"===a.bind||o?f():n(t).on(D+\".\"+l,f)}function a(a,o){var u=this,l=n.extend({},u.config,o),f={},c=l.name+\"-\"+ ++i;return u.config=function(t,r){return r===e?l[t]:(l[t]=r,u)},u.addItems=function(t){return f.a&&f.a(\"string\"===n.type(t)?n(t):t),u},u.getItems=function(){return f.g?f.g():{}},u.update=function(t){return f.e&&f.e({},!t),u},u.force=function(t){return f.f&&f.f(\"string\"===n.type(t)?n(t):t),u},u.loadAll=function(){return f.e&&f.e({all:!0},!0),u},u.destroy=function(){return n(l.appendScroll).off(\".\"+c,f.e),n(t).off(\".\"+c),f={},e},r(u,l,a,f,c),l.chainable?a:u}var n=t.jQuery||t.Zepto,i=0,o=!1;n.fn.Lazy=n.fn.lazy=function(t){return new a(this,t)},n.Lazy=n.lazy=function(t,r,i){if(n.isFunction(r)&&(i=r,r=[]),n.isFunction(i)){t=n.isArray(t)?t:[t],r=n.isArray(r)?r:[r];for(var o=a.prototype.config,u=o._f||(o._f={}),l=0,f=t.length;l<f;l++)(o[t[l]]===e||n.isFunction(o[t[l]]))&&(o[t[l]]=i);for(var c=0,s=r.length;c<s;c++)u[r[c]]=t[0]}},a.prototype.config={name:\"lazy\",chainable:!0,autoDestroy:!0,bind:\"load\",threshold:500,visibleOnly:!1,appendScroll:t,scrollDirection:\"both\",imageBase:null,defaultImage:\"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==\",placeholder:null,delay:-1,combined:!1,attribute:\"data-src\",srcsetAttribute:\"data-srcset\",sizesAttribute:\"data-sizes\",retinaAttribute:\"data-retina\",loaderAttribute:\"data-loader\",imageBaseAttribute:\"data-imagebase\",removeAttribute:!0,handledName:\"handled\",loadedName:\"loaded\",effect:\"show\",effectTime:0,enableThrottle:!0,throttle:250,beforeLoad:e,afterLoad:e,onError:e,onFinishedAll:e},n(t).on(\"load\",function(){o=!0})}(window);\n/* jQuery Masked Input Version: 1.4.1 */\n!function(a){\"function\"==typeof define&&define.amd?define([\"jquery\"],a):a(\"object\"==typeof exports?require(\"jquery\"):jQuery)}(function(a){var b,c=navigator.userAgent,d=/iphone/i.test(c),e=/chrome/i.test(c),f=/android/i.test(c);a.mask={definitions:{9:\"[0-9]\",a:\"[A-Za-z]\",\"*\":\"[A-Za-z0-9]\"},autoclear:!0,dataName:\"rawMaskFn\",placeholder:\"_\"},a.fn.extend({caret:function(a,b){var c;if(0!==this.length&&!this.is(\":hidden\"))return\"number\"==typeof a?(b=\"number\"==typeof b?b:a,this.each(function(){this.setSelectionRange?this.setSelectionRange(a,b):this.createTextRange&&(c=this.createTextRange(),c.collapse(!0),c.moveEnd(\"character\",b),c.moveStart(\"character\",a),c.select())})):(this[0].setSelectionRange?(a=this[0].selectionStart,b=this[0].selectionEnd):document.selection&&document.selection.createRange&&(c=document.selection.createRange(),a=0-c.duplicate().moveStart(\"character\",-1e5),b=a+c.text.length),{begin:a,end:b})},unmask:function(){return this.trigger(\"unmask\")},mask:function(c,g){var h,i,j,k,l,m,n,o;if(!c&&this.length>0){h=a(this[0]);var p=h.data(a.mask.dataName);return p?p():void 0}return g=a.extend({autoclear:a.mask.autoclear,placeholder:a.mask.placeholder,completed:null},g),i=a.mask.definitions,j=[],k=n=c.length,l=null,a.each(c.split(\"\"),function(a,b){\"?\"==b?(n--,k=a):i[b]?(j.push(new RegExp(i[b])),null===l&&(l=j.length-1),k>a&&(m=j.length-1)):j.push(null)}),this.trigger(\"unmask\").each(function(){function h(){if(g.completed){for(var a=l;m>=a;a++)if(j[a]&&C[a]===p(a))return;g.completed.call(B)}}function p(a){return g.placeholder.charAt(a<g.placeholder.length?a:0)}function q(a){for(;++a<n&&!j[a];);return a}function r(a){for(;--a>=0&&!j[a];);return a}function s(a,b){var c,d;if(!(0>a)){for(c=a,d=q(b);n>c;c++)if(j[c]){if(!(n>d&&j[c].test(C[d])))break;C[c]=C[d],C[d]=p(d),d=q(d)}z(),B.caret(Math.max(l,a))}}function t(a){var b,c,d,e;for(b=a,c=p(a);n>b;b++)if(j[b]){if(d=q(b),e=C[b],C[b]=c,!(n>d&&j[d].test(e)))break;c=e}}function u(){var a=B.val(),b=B.caret();if(o&&o.length&&o.length>a.length){for(A(!0);b.begin>0&&!j[b.begin-1];)b.begin--;if(0===b.begin)for(;b.begin<l&&!j[b.begin];)b.begin++;B.caret(b.begin,b.begin)}else{for(A(!0);b.begin<n&&!j[b.begin];)b.begin++;B.caret(b.begin,b.begin)}h()}function v(){A(),B.val()!=E&&B.change()}function w(a){if(!B.prop(\"readonly\")){var b,c,e,f=a.which||a.keyCode;o=B.val(),8===f||46===f||d&&127===f?(b=B.caret(),c=b.begin,e=b.end,e-c===0&&(c=46!==f?r(c):e=q(c-1),e=46===f?q(e):e),y(c,e),s(c,e-1),a.preventDefault()):13===f?v.call(this,a):27===f&&(B.val(E),B.caret(0,A()),a.preventDefault())}}function x(b){if(!B.prop(\"readonly\")){var c,d,e,g=b.which||b.keyCode,i=B.caret();if(!(b.ctrlKey||b.altKey||b.metaKey||32>g)&&g&&13!==g){if(i.end-i.begin!==0&&(y(i.begin,i.end),s(i.begin,i.end-1)),c=q(i.begin-1),n>c&&(d=String.fromCharCode(g),j[c].test(d))){if(t(c),C[c]=d,z(),e=q(c),f){var k=function(){a.proxy(a.fn.caret,B,e)()};setTimeout(k,0)}else B.caret(e);i.begin<=m&&h()}b.preventDefault()}}}function y(a,b){var c;for(c=a;b>c&&n>c;c++)j[c]&&(C[c]=p(c))}function z(){B.val(C.join(\"\"))}function A(a){var b,c,d,e=B.val(),f=-1;for(b=0,d=0;n>b;b++)if(j[b]){for(C[b]=p(b);d++<e.length;)if(c=e.charAt(d-1),j[b].test(c)){C[b]=c,f=b;break}if(d>e.length){y(b+1,n);break}}else C[b]===e.charAt(d)&&d++,k>b&&(f=b);return a?z():k>f+1?g.autoclear||C.join(\"\")===D?(B.val()&&B.val(\"\"),y(0,n)):z():(z(),B.val(B.val().substring(0,f+1))),k?b:l}var B=a(this),C=a.map(c.split(\"\"),function(a,b){return\"?\"!=a?i[a]?p(b):a:void 0}),D=C.join(\"\"),E=B.val();B.data(a.mask.dataName,function(){return a.map(C,function(a,b){return j[b]&&a!=p(b)?a:null}).join(\"\")}),B.one(\"unmask\",function(){B.off(\".mask\").removeData(a.mask.dataName)}).on(\"focus.mask\",function(){if(!B.prop(\"readonly\")){clearTimeout(b);var a;E=B.val(),a=A(),b=setTimeout(function(){B.get(0)===document.activeElement&&(z(),a==c.replace(\"?\",\"\").length?B.caret(0,a):B.caret(a))},10)}}).on(\"blur.mask\",v).on(\"keydown.mask\",w).on(\"keypress.mask\",x).on(\"input.mask paste.mask\",function(){B.prop(\"readonly\")||setTimeout(function(){var a=A(!0);B.caret(a),h()},0)}),e&&f&&B.off(\"input.mask\").on(\"input.mask\",u),A()})}})});","let width = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth\nlet iOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform)\nconst preventDefault = (e) => {\n    e.preventDefault();\n}\nconst disableScroll = () => {\n    if ( width < 767 ) {\n        document.body.classList.add('no-scroll')\n    } else {\n        document.body.addEventListener('touchmove', preventDefault, { passive: false });\n        window.addEventListener('DOMMouseScroll', preventDefault, false);\n        document.addEventListener('wheel', preventDefault, {passive: false});\n    }\n}\nconst enableScroll = () => {\n    if ( width < 767 ){\n        document.body.classList.remove('no-scroll')\n    } else {\n        document.body.removeEventListener('touchmove', preventDefault, { passive: false });\n        window.removeEventListener('DOMMouseScroll', preventDefault, false);\n        document.removeEventListener('wheel', preventDefault, {passive: false});\n    }\n}\nfunction getCookie(name) {\n    let matches = document.cookie.match(new RegExp(\n        \"(?:^|; )\" + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + \"=([^;]*)\"\n    ));\n    return matches ? decodeURIComponent(matches[1]) : undefined;\n}\n//Modal\nfunction myModal(open = null) {\n    const   modal = document.querySelector('.modal')\n    modalList = document.querySelectorAll('[data-toggle=\"modal\"]')\n\n    openCityList = document.querySelector('.open-city-list')\n    cityWrapp = modal.querySelector('.city-wrapper')\n    citList = modal.querySelector('.city-list')\n\n    loginForm = document.querySelector('.modal-body .login-form')\n    smsForm = document.querySelector('.modal-body .sms-form')\n    smsInput = smsForm.querySelectorAll('.sms-input')\n    smsComplete = document.querySelector('.modal-body .complete')\n\n    // let city = getCookie('city')\n\n    const hideModalCloseBtn = () => {\n        if ( event.target.dataset.close == 'close' ) {\n            hModal()\n            document.removeEventListener('click', hideModalEsc())\n        }\n    }\n    const hideModalEsc = () => {\n        if (event.keyCode == 27) {\n            hModal()\n            document.removeEventListener('click', hideModalCloseBtn())\n        }\n    }\n    const hModal = () => {\n        document.body.classList.contains('no-scroll') ? document.body.classList.remove('no-scroll')  : ''\n        modal.querySelector('.is-active') ? modal.querySelector('.is-active').classList.remove('is-active') : ''\n        setTimeout(() => {\n            modal.querySelector('.is-fade') ? modal.querySelector('.is-fade').classList.remove('is-fade') : ''\n        }, 200);\n        setTimeout(() => {\n            modal.classList.remove('is-active')\n        }, 200);\n        setTimeout(() => {\n            modal.classList.contains('in') ? modal.classList.remove('in') : ''\n            modal.classList.contains('in-menu') ? modal.classList.remove('in-menu') : ''\n        }, 200);\n        document.querySelector('.hamburger').classList.remove('open')\n        enableScroll()\n    }\n    const hideModal = () => {\n        hModal()\n        document.removeEventListener('keydown', hideModalEsc())\n        document.removeEventListener('click', hideModalCloseBtn())\n    }\n    const showModal = (event) => {\n        event.target.dataset.target == 'menu' || event.target.dataset.target == 'size' || event.target.dataset.target == 'company'\n            ? '' : disableScroll()\n        event.target.dataset.target == 'size' || event.target.dataset.target == 'company'\n            ? document.body.classList.add('no-scroll') : ''\n        event.target.dataset.target == 'menu' ? document.querySelector('.hamburger').classList.add('open') : ''\n\n        if (event.target.dataset.target == 'city') {\n            citList.classList.remove('active')\n            citList.classList.remove('fade')\n            cityWrapp.classList.add('fade')\n            cityWrapp.classList.add('active')\n        }\n        if (event.target.dataset.target == 'review') {\n            document.querySelector('.rating-area').addEventListener('mouseover', () => {\n                document.querySelector('#star-5').checked = false\n            })\n        }\n        if (event.target.dataset.target == 'oneclick' && event.target.dataset.id != '') {\n            modal.querySelector('.oneclick .product').textContent = 'ID товара: '+event.target.dataset.id\n        }\n        if (event.target.dataset.target == 'code') {\n            setTimeout(() => {\n                document.querySelector('.setPromocode .code-input').focus();\n            }, 300);\n        }\n\n\n        const current = document.querySelector('[data-modal=\"'+ event.target.dataset.target +'\"]')\n        event.target.dataset.target == 'menu' || event.target.dataset.target == 'city' ? modal.classList.add('in-menu') : modal.classList.add('in')\n\n        current.classList.add('is-fade')\n        setTimeout(() => {\n            modal.classList.add('is-active')\n            current.classList.add('is-active')\n        }, 300);\n        event.target.dataset.target == 'login' ? current.querySelector('.phone-mask').focus() : ''\n        event.target.dataset.target == 'review' ? current.querySelector('[name=\"user\"]').focus() : ''\n        event.target.dataset.target == 'question' ? current.querySelector('[name=\"user\"]').focus() : ''\n        event.target.dataset.target == 'oneclick' ? current.querySelector('.name').focus() : ''\n\n        document.addEventListener('keyup', hideModalEsc)\n        document.addEventListener('click', hideModalCloseBtn)\n    }\n\n    modalList.forEach(elem => {\n        elem.addEventListener('click', (event) => {\n            event.preventDefault()\n            if ( modal.classList.contains('is-active') ) {\n                hideModal()\n            } else {\n                showModal(event)\n            }\n        })\n    })\n\n    openCityList.addEventListener('click', (event) => {\n        cityWrapp.classList.remove('active')\n        if (!iOS) {\n            setTimeout(() => {\n                setTimeout(() => {\n                    citList.classList.add('fade')\n                }, 100);\n                cityWrapp.classList.remove('fade')\n                setTimeout(() => {\n                    citList.classList.add('active')\n                    citList.querySelector('input').focus()\n                }, 200);\n            }, 100);\n        } else {\n            citList.classList.add('fade')\n            cityWrapp.classList.remove('fade')\n            citList.classList.add('active')\n            citList.querySelector('input').focus()\n        }\n    })\n\n    loginForm.querySelector('.phone-mask').addEventListener('input', function () {\n        this.value.length == 18 ? this.nextElementSibling.disabled = false : this.nextElementSibling.disabled = true\n    });\n\n    loginForm.addEventListener('submit', (event) => {\n        event.preventDefault();\n        getSMScode(loginForm.querySelector('.phone-mask').value)\n\n    });\n\n    function getSMScode(phone) {\n        const   sendBtn = document.querySelector('.js-phone-send'),\n                repeatForm = document.querySelector('.login-repeat'),\n                smsForm = document.querySelector('.sms-form');\n        $.ajax({\n            url: \"/ajax/sms.php\",\n            type: 'post',\n            data: {\n                phone: phone\n            },\n            success: function (data) {\n                if(data == 'true'){\n                    localStorage.setItem('phone', window.btoa(phone))\n                    if (!iOS) {\n                        setTimeout(() => {\n                            sendBtn.classList.add('fade');\n                            repeatForm.classList.add('fade');\n                            smsForm.classList.add('fade');\n\n                            setTimeout(() => {\n                                sendBtn.classList.add('hidden');\n                                repeatForm.classList.add('visible');\n                                smsForm.classList.add('visible');\n                                smsInsert()\n                                smsTimer()\n                            }, 100);\n                        }, 100);\n                    } else {\n                        sendBtn.classList.add('fade');\n                        repeatForm.classList.add('fade');\n                        smsForm.classList.add('fade');\n                        sendBtn.classList.add('hidden');\n                        smsForm.classList.add('visible');\n                        repeatForm.classList.add('visible');\n                        smsInsert();\n                        smsTimer();\n                    }\n                }\n                else {\n                    console.log('error send')\n                }\n            }\n        });\n    };\n\n    const smsInsert = (event) => {\n\n        let count = 0;\n        smsInput[count].focus();\n\n        smsInput.forEach(item => {\n\n            $('.sms-input').on('keydown', function(e) {\n                let value = $(this).val();\n                let len = value.length;\n                let curTabIndex = parseInt($(this).attr('tabindex'));\n                let nextTabIndex = curTabIndex + 1;\n                let prevTabIndex = curTabIndex - 1;\n                if (len > 0 && e.key != 'Backspace') {\n                    $(this).val(value.substr(0, 1));\n                    $('[tabindex=' + nextTabIndex + ']').focus();\n                } else if (len == 0 && prevTabIndex !== 0) {\n                    $('[tabindex=' + prevTabIndex + ']').focus();\n                }\n            });\n\n            item.addEventListener('input', (e) => {\n\n                setTimeout(() => {\n                    if (smsInput[0].value.length > 2) {\n                        let sms = smsInput[0].value.split('');\n                        smsInput[0].value = sms[0]\n                        smsInput[1].value = sms[1]\n                        smsInput[2].value = sms[2]\n                        smsInput[3].value = sms[3]\n                        validateSMS()\n                    }\n                }, 50)\n\n            })\n\n        })\n    };\n\n    smsTimer = () => {\n        const timerBlock = document.querySelector('.replay-sms');\n        const timerBtn = document.querySelector('.replay-code');\n\n        timerBtn.disabled = true;\n        timerBlock.classList.add('hidden');\n\n        let index = 60;\n        let timerId = setTimeout(function run() {\n            if (index == 0) {\n                clearTimeout(timerId);\n                timerBtn.disabled = false;\n                timerBlock.classList.remove('hidden');\n                timerBtn.addEventListener('click', repeatSMS)\n            } else {\n                timerBtn.removeEventListener('click', repeatSMS)\n                index--;\n                timerBlock.querySelector('.timer').textContent = index < 10 ? '0' + index : index;\n                let timerId = setTimeout(run, 1000);\n            }\n        }, 1000);\n\n        function repeatSMS() {\n            timerBtn.removeEventListener('click', repeatSMS);\n            $.ajax({\n                url: \"/ajax/sms.php\",\n                type: 'post',\n                data: {\n                    phone: window.atob(localStorage.getItem('phone'))\n                },\n                success: function (data) {\n                    smsTimer();\n                }\n            });\n        }\n    }\n\n    smsInput[3].addEventListener('keyup', function() {\n        if (this.value != '') {\n            validateSMS()\n        }\n    })\n\n    function validateSMS() {\n\n        $.ajax({\n            url: \"/ajax/sms.php\",\n            type: 'post',\n            data: {\n                code: smsInput[0].value + smsInput[1].value + smsInput[2].value + smsInput[3].value\n            },\n            success: function (response) {\n                data = JSON.parse(response)\n                if(data.status === true) {\n                    localStorage.removeItem('phone')\n                    smsForm.classList.remove('visible')\n                    loginForm.classList.add('hidden')\n                    setTimeout(() => {\n                        setTimeout(() => {\n                            smsComplete.classList.add('fade')\n                        }, 100);\n                        smsForm.classList.remove('fade')\n                        setTimeout(() => {\n                            smsComplete.classList.add('active')\n                        }, 200);\n                        setTimeout(() => {\n                            smsComplete.classList.add('rotate')\n                            setTimeout(() => {\n                                hModal()\n                            }, 1000);\n                        }, 1000);\n                    }, 100);\n                    //Desctop\n                    document.querySelector('.nav-top__right__login').classList.add('hidden')\n                    document.querySelector('.nav-top__right__lk').classList.add('fade')\n                    //Mobile\n                    document.querySelector('.mobile-left-menu .login').classList.add('hidden')\n                    document.querySelector('.mobile-left-menu .lk').classList.remove('hidden')\n                    document.querySelector('.mobile-left-menu .lk span').textContent = data.user\n                    setTimeout(() => {\n                        document.querySelector('.nav-top__right__lk').textContent = data.user\n                        document.querySelector('.nav-top__right__lk').classList.add('active')\n                        smsInput[3].blur();\n                    }, 100);\n                }else {\n                    localStorage.setItem('sms', '');\n                    smsForm.classList.add('fatal');\n                    setTimeout(() => {\n                        smsForm.classList.remove('fatal')\n                        smsInput[0].value = ''; smsInput[1].value = ''; smsInput[2].value = ''; smsInput[3].value = '';\n                        smsInsert()\n                    },300)\n\n                }\n            }\n        });\n    }\n\n    const hFastModal = () => {\n        modal.querySelector('.is-active') ? modal.querySelector('.is-active').classList.remove('is-active') : ''\n        modal.querySelector('.is-fade') ? modal.querySelector('.is-fade').classList.remove('is-fade') : ''\n        modal.classList.remove('is-active')\n        modal.classList.contains('in') ? modal.classList.remove('in') : ''\n        modal.classList.contains('in-menu') ? modal.classList.remove('in-menu') : ''\n        document.querySelector('.hamburger').classList.remove('open')\n    }\n\n    function openLoginForm(event) {\n        event.preventDefault()\n        if (iOS) {\n            hFastModal()\n            disableScroll()\n            const current = document.querySelector('.modal-body.login')\n            modal.classList.add('in')\n            current.classList.add('is-fade')\n            loginForm.classList.add('fade')\n            loginForm.classList.add('active')\n            modal.classList.add('is-active')\n            current.classList.add('is-active')\n            current.querySelector('.phone-mask').setAttribute('autofocus', 'autofocus');\n            current.querySelector('.phone-mask').focus()\n        } else {\n            event.target.dataset.target = 'login'\n            hModal()\n            setTimeout(() => {\n                showModal(event)\n            }, 300);\n        }\n    }\n\n    modal.addEventListener('click', (event) => event.target == modal || event.target == modal.children[0] ? hideModal() : '')\n\n    if (open) {\n        open == 'menu' || open == 'size' ? '' : disableScroll()\n        open == 'size' ? document.body.classList.add('no-scroll')  : ''\n        open == 'menu' ? document.querySelector('.hamburger').classList.add('open') : ''\n        if (open == 'login') {\n            smsForm.classList.remove('active')\n            smsForm.classList.remove('fade')\n            smsComplete.classList.remove('active')\n            smsComplete.classList.remove('fade')\n            loginForm.classList.add('fade')\n            loginForm.classList.add('active')\n        }\n        const current = document.querySelector('[data-modal=\"'+ open +'\"]')\n        open == 'menu' || open == 'city' ? modal.classList.add('in-menu') : modal.classList.add('in')\n\n        current.classList.add('is-fade')\n        setTimeout(() => {\n            modal.classList.add('is-active')\n            current.classList.add('is-active')\n        }, 300);\n\n        open == 'login' ? current.querySelector('.phone-mask').focus() : ''\n        open == 'review' ? current.querySelector('[name=\"user\"]').focus() : ''\n        open == 'question' ? current.querySelector('[name=\"user\"]').focus() : ''\n        open == 'oneclick' ? current.querySelector('.name').focus() : ''\n\n        document.addEventListener('keyup', hideModalEsc)\n        document.addEventListener('click', hideModalCloseBtn)\n    }\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n    //Menu\n    if ( document.querySelector('nav') ) {\n        const   catalogBtn = document.querySelectorAll('.nav .hover-link')\n        catalogLink = document.querySelectorAll('.nav .link')\n        catalog = document.querySelector('.nav-catalog')\n\n        mCatalogBtn = document.querySelector('.nav-mobile .catalog-btn')\n        parrentLink = document.querySelectorAll('.nav a.parrent')\n        childrenLink = document.querySelectorAll('.nav a.children')\n        div = document.createElement('div');\n\n        div.classList.add('layout')\n        function closeCatalogEvt(event) { event.target = div ? closeCatalog() : '' }\n\n        let timer\n        openCatalog = (e)  => event => {\n            e.stopPropagation();\n            if (catalog.querySelector('.nav-catalog__submenu.active')) {\n                catalog.querySelector('.nav-catalog__submenu.active').classList.remove('active')\n            }\n            if (catalog.querySelector('.nav-catalog__submenu.fade')) {\n                catalog.querySelector('.nav-catalog__submenu.fade').classList.remove('fade')\n            }\n            const current = catalog.querySelector('[data-submenu=\"'+e.target.dataset.menu+'\"]')\n            document.body.append(div)\n            current.classList.add('fade')\n            // setTimeout(() => {\n            current.classList.add('active')\n            // }, 100);\n            e.target.dataset.menu == 'catalog'\n                ? document.querySelector('.catalog.hover-link').classList.add('active')\n                : ''\n            div.addEventListener('mouseover', closeCatalogEvt)\n\n            showParent = (e) => {\n                if ( current.querySelector('.nav-catalog__general .active') ) current.querySelector('.nav-catalog__general .active').classList.remove('active')\n                if (current.querySelector('.nav-catalog__parent.active')) {\n                    current.querySelector('.nav-catalog__parent.active').classList.remove('active')\n                }\n                if (current.querySelector('.nav-catalog__parent.fade')) {\n                    current.querySelector('.nav-catalog__parent.fade').classList.remove('fade')\n                }\n                current.querySelector(('[data-id=\"'+e.target.dataset.id+'\"]')).classList.add('active')\n\n                current.querySelector('[data-parent=\"'+e.target.dataset.id+'\"]').classList.add('fade')\n                current.querySelector('[data-parent=\"'+e.target.dataset.id+'\"]').classList.add('active')\n            }\n            const catalogGeneral = current.querySelectorAll('.nav-catalog__general li a')\n            if ( !current.querySelector('.nav-catalog__general a.active') ) {\n                catalogGeneral[0].classList.add('active')\n            }\n            if ( !current.querySelector('.nav-catalog__parent.active') ) {\n                current.querySelector('.nav-catalog__parent').classList.add('fade')\n                current.querySelector('.nav-catalog__parent').classList.add('active')\n            }\n            catalogGeneral.forEach(item => {\n                item.addEventListener('mouseenter', showParent)\n            })\n\n        }\n        closeCatalog = () => {\n            if (catalog.querySelector('.nav-catalog__submenu.active')) {\n                catalog.querySelector('.nav-catalog__submenu.active').classList.remove('active')\n                document.querySelector('.catalog.hover-link').classList.remove('active')\n            }\n            // setTimeout(() => {\n            if (catalog.querySelector('.nav-catalog__submenu.fade')) {\n                catalog.querySelector('.nav-catalog__submenu.fade').classList.remove('fade')\n            }\n            if (document.contains(div)) document.body.removeChild(div)\n            div.removeEventListener('mouseover', closeCatalogEvt)\n            // }, 50)\n        }\n\n        openMobileMenu = () => {\n            catalog.querySelector('.nav-catalog__menu').classList.add('fade')\n            catalog.querySelector('.nav-catalog__menu').classList.add('active')\n            mCatalogBtn.children[0].classList.add('active')\n            document.body.append(div)\n            localStorage.setItem('menu', 'general')\n        }\n        closeMobileMenu = () => {\n            catalog.querySelector('.nav-catalog__menu').classList.remove('active')\n            setTimeout(() => {\n                catalog.querySelector('.nav-catalog__menu').classList.remove('fade')\n                mCatalogBtn.children[0].classList.remove('active')\n                if (document.contains(div)) document.body.removeChild(div)\n            }, 100);\n\n            catalog.querySelectorAll('.nav-catalog__submenu').forEach(item => {\n                item.classList.contains('sub') ? item.classList.remove('sub') : ''\n                item.classList.contains('child') ? item.classList.remove('child') : ''\n                item.classList.contains('active') ? item.classList.remove('active') : ''\n                item.classList.contains('fade') ? item.classList.remove('fade') : ''\n            })\n\n            catalog.querySelectorAll('.nav-catalog__parent').forEach(item => {\n                // item.classList.contains('child') ? item.classList.remove('child') : ''\n                item.classList.contains('active') ? item.classList.remove('active') : ''\n                item.classList.contains('fade') ? item.classList.remove('fade') : ''\n            })\n\n            localStorage.removeItem('menu')\n            localStorage.removeItem('menu_title')\n        }\n\n        showMobileMenu = () => {\n            catalog.querySelector('.nav-catalog__menu').classList.add('fade')\n            setTimeout(() => {\n                catalog.querySelector('.nav-catalog__menu').classList.add('active')\n            }, 100);\n        }\n        hideMobileMenu = () => {\n            catalog.querySelector('.nav-catalog__menu').classList.remove('active')\n            setTimeout(() => {\n                catalog.querySelector('.nav-catalog__menu').classList.remove('fade')\n            }, 100);\n            localStorage.removeItem('menu_title')\n        }\n\n        hideParrent = (e) => {\n            e.preventDefault()\n            let parrent = localStorage.getItem('menu') || null\n            if (parrent) {\n                current = catalog.querySelector('[data-submenu=\"'+ parrent +'\"]')\n                current.classList.remove('active')\n                setTimeout(() => {\n                    current.classList.remove('fade')\n                }, 100);\n            }\n            localStorage.setItem('menu', 'general')\n            localStorage.removeItem('menu_title')\n            showMobileMenu()\n\n        }\n        showParrent = (e) => {\n            e.preventDefault()\n            let general = localStorage.getItem('menu') || null\n            if ( general ) hideMobileMenu()\n\n            let parrent = e.target.dataset.menu\n            localStorage.setItem('menu', parrent)\n\n            if (parrent) {\n                current = catalog.querySelector('[data-submenu=\"'+ parrent +'\"]')\n                current.classList.add('fade')\n                setTimeout(() => {\n                    current.classList.add('active')\n                }, 100);\n\n                let head = current.querySelector('.head')\n                head.innerHTML = `<a class=\"back\" href=\"#\">${e.target.textContent}</a>`\n\n                setTimeout(() => {\n                    const back = current.querySelector('.back')\n                    back.addEventListener('click', hideParrent)\n                }, 100);\n            }\n\n            pageYOffset > 100 ? document.querySelector('.nav-mobile').scrollIntoView({block: \"start\", behavior: \"smooth\"}) : ''\n        }\n\n        hideChildren = (e) => {\n            e.preventDefault()\n            let parrent = localStorage.getItem('menu')\n            if (parrent == 'general') parrent = 'catalog'\n\n            current = catalog.querySelector('[data-submenu=\"'+ parrent +'\"]')\n            currentParrent = current.querySelector('.nav-catalog__parent.fade.active')\n\n            currentParrent.classList.remove('active')\n            setTimeout(() => {\n                currentParrent.classList.remove('fade')\n                current.classList.remove('active')\n                current.classList.remove('child')\n                current.classList.remove('fade')\n                if (parrent != 'catalog') {\n                    setTimeout(() => {\n                        current.classList.add('fade')\n                        setTimeout(() => {\n                            current.classList.add('active')\n                        }, 100);\n                    }, 100);\n                }\n            }, 100);\n\n            if (parrent == 'catalog') showMobileMenu()\n        }\n        showChildren = (e) => {\n            e.preventDefault()\n\n            let general = localStorage.getItem('menu') || null\n            if ( general == 'general' ) {\n\n                hideMobileMenu()\n\n                let parrent = localStorage.getItem('menu')\n                if (parrent == 'general') parrent = 'catalog'\n                current = catalog.querySelector('[data-submenu=\"'+ parrent +'\"]')\n                currentParrent = current.querySelector('[data-parent=\"'+ e.target.dataset.id +'\"]')\n\n                current.classList.add('fade')\n                current.classList.add('active')\n                current.classList.add('child')\n                currentParrent.classList.add('fade')\n                setTimeout(() => {\n                    currentParrent.classList.add('active')\n                }, 100);\n\n                let header = {\n                    title: e.target.textContent,\n                    href: e.target.href\n                }\n\n                localStorage.setItem('menu_title', JSON.stringify(header))\n\n                currentParrent.children[0].innerHTML = `<a class=\"back\" href=\"#\">${e.target.textContent}</a>\n                <a class=\"category\" href=\"${e.target.href}\">Перейти в категорию</a>`\n\n                setTimeout(() => {\n                    const back = currentParrent.querySelector('.back')\n                    back.addEventListener('click', hideChildren)\n                }, 300);\n            }\n            else {\n                current = catalog.querySelector('[data-submenu=\"'+ general +'\"]')\n                current.classList.remove('active')\n                setTimeout(() => {\n                    current.classList.remove('fade')\n                }, 100);\n\n                let parrent = localStorage.getItem('menu')\n                if (parrent == 'general') parrent = 'catalog'\n                current = catalog.querySelector('[data-submenu=\"'+ parrent +'\"]')\n                currentParrent = current.querySelector('[data-parent=\"'+ e.target.dataset.id +'\"]')\n\n                setTimeout(() => {\n                    current.classList.add('fade')\n                    current.classList.add('active')\n                    current.classList.add('child')\n                    currentParrent.classList.add('fade')\n                    setTimeout(() => {\n                        currentParrent.classList.add('active')\n                    }, 100);\n                }, 105);\n\n                currentParrent.children[0].innerHTML = `<a class=\"back\" href=\"#\">${e.target.textContent}</a>\n                <a class=\"category\" href=\"${e.target.href}\">Перейти в категорию</a>`\n\n                setTimeout(() => {\n                    const back = currentParrent.querySelector('.back')\n                    back.addEventListener('click', hideChildren)\n                }, 300);\n            }\n\n            const subLink = currentParrent.querySelectorAll('ul li:first-child a')\n            subLink.forEach(elem => {\n                elem.addEventListener('click', showSubMenu)\n            })\n\n            pageYOffset > 100 ? document.querySelector('.nav-mobile').scrollIntoView({block: \"start\", behavior: \"smooth\"}) : ''\n        }\n\n        hideSubMenu = (e) => {\n            e.preventDefault()\n            const   current = catalog.querySelector('.sub')\n\n            current.classList.remove('sub')\n            current.classList.remove('active')\n\n            current.querySelector('ul.current').classList.remove('current')\n\n            current.classList.add('child')\n            setTimeout(() => {\n                current.classList.add('active')\n            }, 200);\n\n            let header = JSON.parse(localStorage.getItem('menu_title'))\n\n            let child = current.querySelector('.nav-catalog__parent.fade.active')\n            child.querySelector('.nav-catalog__parent__head').innerHTML = `<a class=\"back\" href=\"#\">${header.title}</a>\n            <a class=\"category\" href=\"${header.href}\">Перейти в категорию</a>`\n\n            setTimeout(() => {\n                const back = child.querySelector('.back')\n                back.addEventListener('click', hideChildren)\n            }, 300);\n        }\n        showSubMenu = (e) => {\n            e.preventDefault()\n\n            const   current = document.querySelector('.nav-catalog__submenu.child')\n            id = e.target.closest('ul').getAttribute('data-sub')\n\n            current.classList.remove('child')\n            current.classList.remove('active')\n\n\n            current.classList.add('sub')\n            setTimeout(() => {\n                current.classList.add('active')\n            }, 100);\n\n            let child = catalog.querySelector('.nav-catalog__parent.fade.active')\n            child.querySelector('[data-sub=\"'+ id +'\"]').classList.add('current')\n            child.querySelector('.nav-catalog__parent__head').innerHTML = `<a class=\"back\" href=\"#\">${e.target.textContent}</a>\n            <a class=\"category\" href=\"${e.target.href}\">Перейти в категорию</a>`\n\n            setTimeout(() => {\n                const back = child.querySelector('.back')\n                back.addEventListener('click', hideSubMenu)\n            }, 300);\n        }\n\n\n        catalogBtn.forEach(item => {\n            if (document.body.clientWidth > 991) {\n                item.addEventListener('click', (e) => { e.preventDefault() })\n                item.addEventListener('mouseover', (e) => { timer = setTimeout(openCatalog(e), 200) })\n                item.addEventListener('mouseout', () => { clearTimeout(timer) })\n            } else {\n                // item.addEventListener('click', showParrent)\n                parrentLink.forEach(item => {\n                    item.addEventListener('click', showParrent)\n                })\n                childrenLink.forEach(item => {\n                    item.addEventListener('click', showChildren)\n                })\n            }\n        })\n\n        catalogLink.forEach(item => {\n            if (document.body.clientWidth > 991) {\n                item.addEventListener('mouseover', closeCatalog)\n            }\n        })\n        mCatalogBtn.addEventListener('click', openMobileMenu)\n        div.addEventListener('click', closeMobileMenu)\n\n        const MobileSearch = document.querySelector('#nav-mobile')\n        let openSearchBtn = document.querySelector('.js-open-search')\n        openSearchBtn.addEventListener('click', (e) => {\n            MobileSearch.classList.add('openSearch')\n            MobileSearch.querySelector('input').focus()\n            disableScroll()\n\n            let closeBtn = document.querySelector('.js-close-search')\n            closeBtn.addEventListener('click', (e) => {\n                MobileSearch.classList.remove('openSearch')\n                enableScroll()\n            })\n        })\n    }\n\n    //Modal\n    if ( document.querySelector('.modal') ) {\n        myModal()\n    }\n\n    //MobileMenu\n    if ( document.querySelector('.mobile-left-menu') ) {\n        const hamburger = document.querySelector('.hamburger');\n        const mobileMenu = document.querySelector('.mobile-left-menu');\n        const main = document.querySelector('main');\n\n        const closeMobileMenu = (e) => {\n            if (!mobileMenu.contains(e.target) || e == 'close') {\n                mobileMenu.classList.remove('is-active')\n                main.classList.remove('is-active')\n                hamburger.classList.remove('open')\n                setTimeout(() => {\n                    mobileMenu.classList.add('fade')\n                    if ($('.slider-wrapper').length) {\n                        $('.slider-wrapper').slick('setPosition')\n                        $('.home-week--wrap').slick('setPosition')\n                        $('.home-notes--wrap').slick('setPosition')\n                    }\n                    document.removeEventListener('click', closeMobileMenu)\n                    hamburger.addEventListener('click', openMobileMenu)\n                }, 100)\n            }\n        };\n\n        const openMobileMenu = (e) => {\n            e.preventDefault();\n            mobileMenu.classList.add('fade')\n            hamburger.classList.add('open')\n            setTimeout(() => {\n                mobileMenu.classList.add('is-active')\n                main.classList.add('is-active')\n                hamburger.removeEventListener('click', openMobileMenu)\n                document.addEventListener('click', closeMobileMenu)\n            }, 100)\n        };\n\n        hamburger.addEventListener('click', openMobileMenu);\n\n        const btnShowLoginInMenu = mobileMenu.querySelector('.button.login')\n        btnShowLoginInMenu.addEventListener('click', (e) => {\n            e.preventDefault()\n            closeMobileMenu('close')\n        });\n\n        const btnShowCityInMenu = mobileMenu.querySelector('.button.city')\n        btnShowCityInMenu.addEventListener('click', (e) => {\n            e.preventDefault()\n            closeMobileMenu('close')\n        });\n    }\n\n    //ShowHide\n    if ( document.querySelector('.hideElem') ) {\n        const   hElem = document.querySelectorAll('.hideElem')\n        sElem = document.querySelectorAll('.showElem')\n        sMore = document.querySelectorAll('.showMore')\n\n        hElem.forEach((item, i) => {\n            item.addEventListener('click', () => {\n                !item.classList.contains('active') ? item.classList.add('active') : item.classList.remove('active')\n                !sElem[i].classList.contains('active') ? sElem[i].classList.add('active') : sElem[i].classList.remove('active')\n            })\n        })\n    }\n\n    //Products-page Tabs\n    if ( document.querySelector('.tabs') ) {\n        const   tabs = [...document.querySelector('.tabs').children]\n        tabsItem = document.querySelectorAll('.tabs-item')\n\n        tabs.forEach((item,i) => {\n            item.addEventListener('click', () => {\n                tabs.forEach(item => item.classList.contains('active') ? item.classList.remove('active') : '')\n                tabsItem.forEach(item => item.classList.contains('active') ? item.classList.remove('active') : '')\n                item.classList.add('active')\n                tabsItem[i].classList.add('active')\n            })\n        })\n    }\n\n\n    let inputs = document.querySelectorAll('.phone-mask');\n\n    Array.prototype.forEach.call(inputs, function(input) {\n        new InputMask({\n            selector: input,\n            layout: input.dataset.mask\n        })\n        input.addEventListener('click', function() {\n            if (this.value == '+7') this.setSelectionRange(2,2);\n        })\n    })\n\n    if ( document.querySelector('input[name=\"promo-code\"]') ) {\n        const promoCode = document.querySelector('input[name=\"promo-code\"]')\n        promoCode.addEventListener('focus', () => { promoCode.placeholder = '' })\n        promoCode.addEventListener('blur', () => { promoCode.placeholder = 'Введите промокод' })\n        new InputMask({\n            selector: promoCode,\n            layout: promoCode.dataset.mask\n        })\n    }\n\n\n});\n\nfunction InputMask(options) {\n    this.el = this.getElement(options.selector);\n    if (this.el == document.querySelector('input[name=\"promo-code\"]')) {\n        this.layout = options.layout || '____-____';\n    }\n    else {\n        this.layout = options.layout || '+7 (___) ___-__-__';\n    }\n\n    this.maskreg = this.getRegexp();\n\n    this.setListeners();\n}\n\nInputMask.prototype.getRegexp = function() {\n    var str = this.layout.replace(/_/g, '\\\\d')\n    str = str.replace(/\\(/g, '\\\\(')\n    str = str.replace(/\\)/g, '\\\\)')\n    str = str.replace(/\\+/g, '\\\\+')\n    str = str.replace(/\\s/g, '\\\\s')\n\n    return str;\n}\n\nInputMask.prototype.mask = function(e) {\n    var _this = e.target,\n        matrix = this.layout,\n        i = 0,\n        def = matrix.replace(/\\D/g, \"\"),\n        val = _this.value.replace(/\\D/g, \"\");\n\n    if (def.length >= val.length) val = def;\n\n    _this.value = matrix.replace(/./g, function(a) {\n        return /[_\\d]/.test(a) && i < val.length ? val.charAt(i++) : i >= val.length ? \"\" : a\n    });\n\n    if (e.type == \"blur\") {\n        var regexp = new RegExp(this.maskreg);\n        if (!regexp.test(_this.value)) _this.value = \"\";\n    } else {\n        this.setCursorPosition(_this.value.length, _this);\n    }\n}\n\nInputMask.prototype.setCursorPosition = function(pos, elem) {\n    elem.focus();\n    if (elem.setSelectionRange) elem.setSelectionRange(pos, pos);\n    else if (elem.createTextRange) {\n        var range = elem.createTextRange();\n        range.collapse(true);\n        range.moveEnd(\"character\", pos);\n        range.moveStart(\"character\", pos);\n        range.select()\n    }\n}\n\nInputMask.prototype.setListeners = function() {\n    this.el.addEventListener(\"input\", this.mask.bind(this), false);\n    this.el.addEventListener(\"focus\", this.mask.bind(this), false);\n    this.el.addEventListener(\"blur\", this.mask.bind(this), false);\n}\n\nInputMask.prototype.getElement = function(selector) {\n    if (selector === undefined) return false;\n    if (this.isElement(selector)) return selector;\n    if (typeof selector == 'string') {\n        var el = document.querySelector(selector);\n        if (this.isElement(el)) return el;\n    }\n    return false\n}\n\nInputMask.prototype.isElement = function(element) {\n    return element instanceof Element || element instanceof HTMLDocument;\n}\n\n$( document ).ready(function() {\n    $('.lazy').Lazy({\n        // effect: \"fadeIn\",\n        // effectTime: 500,\n        // threshold: 0\n    });\n});\n"]}